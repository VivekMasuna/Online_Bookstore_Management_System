<% layout('/layouts/boilerplate') %>

<body>
    <h1>Welcome, Admin</h1>

    <h2>Notifications</h2>
    <ul>
        <% currAdmin.notifications.forEach((notification, index) => { %>
            <li>
                <%= notification %>
                <form action="/admin/notifications/<%= index %>/clear" method="POST" style="display:inline;">
                    <button type="submit" class="btn btn-secondary btn-sm">Clear</button>
                </form>
            </li>
        <% }) %>
    </ul>

    <h2>Pending Admin Requests</h2>
    <ul>
        <% pendingRequests.forEach(request => { %>
            <li class="mb-2">
                <%= request.username %> (<%= request.email %>)
                <form action="/admin/approve/<%= request._id %>" method="POST" style="display:inline;">
                    <button type="submit" class="btn btn-primary btn-sm">Approve</button>
                </form>
                <form action="/admin/reject/<%= request._id %>" method="POST" style="display:inline;">
                    <button type="submit" class="btn btn-danger btn-sm">Reject</button>
                </form>
            </li>
        <% }) %>
    </ul>
</body>